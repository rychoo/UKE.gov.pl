!function(){const e=(e,t)=>{trackerTag&&trackerTag.events.send(e,t)},t=()=>{var e,t,a;return{t:"Doceo - Rules of procedure of the EP",l:null==(e=document.querySelector("#webanalytic-id_chapters"))?void 0:e.value,o:null==(t=document.querySelector("#webanalytic-id_sub-chapters"))?void 0:t.value,i:null==(a=document.querySelector("#webanalytic-id_sub-sub-chapters"))?void 0:a.value}},a="data-analytics-event-attached",n="#webanalytic-ep_bodies",c="#webanalytics-topics_by_weeks",l="#webanalytics-priority_category",o="#webanalytics-priority_wordlink",i="#news_search-keyword",r="#webanalytics-language",d="#webanalytics-reference",u="click.action",s="click.download",_="click.exit",p="click.navigation",m="internal_search_result.click",v=e=>{const t=location.href.split("/"),a=t.pop();return a===e?t[t.length-1]:a},w=()=>{if(window.performance){const e=window.performance.getEntriesByType("navigation");if(e.length>0){const{duration:t}=e[0];return t/1e3}}},{u:k,_:T,p:g,m:y,v:E,k:b,T:O,O:h,h:N,N:R,R:f}={u:"multimediacentre.europarl.europa.eu",_:"audiovisual.europarl.europa.eu",p:"europarltv.europa.eu",m:"europarl.europa.eu",v:"/external/",k:"/ep_products/",T:/\.pdf|\.doc|\.xls|\.xml|\.zip/,O:"download-centre_download-btn",h:"facebook.com",N:"twitter.com",R:"linkedin.com"},A=(n=document.body.querySelectorAll("a"))=>{n.forEach((n=>{if(!n.hasAttribute(a)){const c=(e=>{if(!e.href||"string"!=typeof e.href)return null;const t=e.href.toLowerCase(),a=t.includes(k),n=t.includes(T),c=t.includes(g),l=t.includes(y)&&(t.includes(E)||t.includes(b)),o=t.match(O),i=e.id===h,r=t.includes(N)||t.includes(R)||t.includes(f),d=t.includes(window.location.host);return a||n||c||l?u:o||i?s:!d||r?_:p})(n);c&&(n.addEventListener("click",(()=>e(c,((e,a)=>{var n,c,l;const o={...t(),click:e.href,label:null==(n=e.textContent)?void 0:n.trim(),A:null==(l=null==(c=e.querySelector("span"))?void 0:c.textContent)?void 0:l.trim(),details:e.getAttribute("data-details")};return"click.exit"===a&&(o.I=o.t),o})(n,c)))),n.setAttribute(a,"true"))}}))},I=(n=document.body.querySelectorAll("button"))=>{n.forEach((n=>{n.hasAttribute(a)||(n.addEventListener("click",(()=>e(u,((e,a)=>{var n,c,l;return{...t(),label:null==(n=e.textContent)?void 0:n.trim(),A:null==(l=null==(c=e.querySelector("span"))?void 0:c.textContent)?void 0:l.trim(),D:e.getAttribute("aria-expanded"),click:e.type,details:e.getAttribute("data-details")}})(n)))),n.setAttribute(a,"true"))}))},D=()=>{const t=document.body.querySelector("#search");t&&!t.hasAttribute(a)&&(t.addEventListener("submit",(()=>e(u,(()=>{const e=document.querySelector("#search-field");return{click:null==e?void 0:e.value}})()))),t.setAttribute(a,"true"))},L=(n=document.body.querySelectorAll("[data-searchResultLink]"))=>{const c=document.body.querySelector("#search-field");null==n||n.forEach(((n,l)=>{n.hasAttribute(a)||(n.addEventListener("click",(()=>e(m,((e,a,n)=>{var c,l,o;return{...t(),label:null==(c=e.textContent)?void 0:c.trim(),A:null==(o=null==(l=e.querySelector("span"))?void 0:l.textContent)?void 0:o.trim(),L:null==n?void 0:n.value,U:1,P:a,details:e.getAttribute("data-details")}})(n,l,c)))),n.setAttribute(a,"true"))}))},U=()=>{D(),L(),A(),I()},P=()=>{var e,a;const n=(()=>{const e=document.querySelector("html"),t=document.body;let a=(null==e?void 0:e.getAttribute("lang"))||(null==t?void 0:t.getAttribute("lang"));if(!a){const e=document.querySelector('meta[name="language"]');a=null==e?void 0:e.content}return a})(),c=document.querySelector("#webanalytic-id_pages");return{...t(),page:v(n),C:w(),language:n?n.toLowerCase():"",S:(null==c?void 0:c.value)||(null==c?void 0:c.getAttribute("value")),M:null==(e=document.querySelector("#webanalytic-id_type"))?void 0:e.value,url:location.href,B:location.href,K:(null==(a=document.querySelector("link[rel='canonical']"))?void 0:a.getAttribute("href"))||"No recognized",referrer:document.referrer}},C=()=>{const e=JSON.parse("false")?(()=>{var e,t,a,u,s,_,p;return{...P(),V:null==(e=document.querySelector(n))?void 0:e.value,W:null==(t=document.querySelector(c))?void 0:t.value,X:null==(a=document.querySelector(l))?void 0:a.value,J:null==(u=document.querySelector(o))?void 0:u.value,j:null==(s=document.querySelector(i))?void 0:s.value,F:null==(_=document.querySelector(r))?void 0:_.value,q:null==(p=document.querySelector(d))?void 0:p.value}})():P();trackerTag&&trackerTag.events.send("page.display",e)},x=(e=document.body.querySelectorAll("[data-custom-event-sender]"))=>{trackerTag&&e.forEach((e=>{const t=JSON.parse(e.getAttribute("[data-custom-event-sender]"));trackerTag.events.send(null==t?void 0:t.G,t)}))},S=()=>{(()=>{let e=location.href;new MutationObserver((t=>{t.forEach((e=>{e.addedNodes.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){const t=e,a=t.querySelectorAll("[data-searchResultLink]");a.length>0&&L(a);const n=t.querySelectorAll("a");n.length>0&&A(n);const c=t.querySelectorAll("button");c.length>0&&I(c);const l=t.querySelectorAll("[data-custom-event-sender]");l.length>0&&x(l)}}))})),location.href!==e&&(e=location.href,trackerTag&&C())})).observe(document.body,{childList:!0,subtree:!0})})(),window.addEventListener("hashchange",C)},M=()=>{C(),x(),(()=>{const e=document.querySelector("#portalSearch");if(e){const t={L:e.value,U:1};trackerTag&&trackerTag.events.send("internal_search_result.display",t)}})()},B=()=>{trackerTag=new ATInternet.Tracker.Tag,JSON.parse("false")&&trackerTag.setProp("url_action",window.location.href,!0),U(),S(),M()},K=async()=>{const e=document.querySelector("head");if(!e||document.querySelector("#piano-analytics-script"))return;const t=document.createElement("script");t.setAttribute("id","piano-analytics-script"),t.setAttribute("type","text/javascript"),t.setAttribute("async","true"),t.setAttribute("src","https://www.europarl.europa.eu/website/webanalytics/smarttag-doceo.js"),t.addEventListener("load",B),await e.append(t)};"complete"===document.readyState?K():window.addEventListener("load",K)}();
//# sourceMappingURL=ati-doceo.js.map
